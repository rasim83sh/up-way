import React, { useEffect, useMemo, useState } from "react";

// --- Simple i18n dictionary ---
const DICT = {
  en: {
    langLabel: "EN",
    heroTitle: "Elevator Installation & Modernization",
    heroSubtitle: "Clean, precise, on‑time. UpWay delivers European‑standard installations with 15 years of on‑site experience.",
    ctaPrimary: "Get a quote",
    ctaSecondary: "Our projects",
    trusted: "Trusted quality, safe delivery, zero shortcuts.",

    nav: {
      services: "Services",
      process: "Process",
      projects: "Projects",
      about: "About",
      contact: "Contact"
    },

    servicesTitle: "Our Services",
    services: [
      {
        title: "New Installations",
        desc: "Full-cycle installation of passenger and freight elevators for residential and commercial sites."
      },
      {
        title: "Modernization",
        desc: "Upgrade control systems, drives, doors, and cabins to improve safety, speed, and energy efficiency."
      },
      {
        title: "Dismantling & Replacement",
        desc: "Safe removal of old units and turnkey replacement with minimal downtime."
      },
      {
        title: "Compliance & Testing",
        desc: "Documentation, safety checks, and handover according to EU norms and manufacturer specs."
      }
    ],

    processTitle: "How We Work",
    processSteps: [
      { step: "01", title: "Site visit", desc: "Measurements, shaft assessment, power & logistics." },
      { step: "02", title: "Plan & quote", desc: "Clear scope, timeline, and fixed pricing options." },
      { step: "03", title: "Install", desc: "Clean, safe, professional execution on schedule." },
      { step: "04", title: "Handover", desc: "Testing, documentation, training, and aftercare." }
    ],

    projectsTitle: "Recent Projects",
    aboutTitle: "About UpWay",
    aboutText:
      "UpWay is a newly founded installation firm based in Poland, led by a technician with ~15 years of hands‑on elevator experience across Europe. We focus on clean workmanship, transparent communication, and on‑time delivery.",

    contactTitle: "Contact Us",
    contactText: "Send a short message and we’ll get back within one business day.",
    form: {
      name: "Your name",
      email: "Email",
      message: "Message",
      send: "Send"
    },

    footerLeft: "UpWay — Elevator Installation",
    footerMid: "Based in Poland • Operating across Europe",
    footerRight: "© "
  },
  fr: {
    langLabel: "FR",
    heroTitle: "Installation & modernisation d’ascenseurs",
    heroSubtitle: "Propre, précis, ponctuel. UpWay livre des installations aux normes européennes avec 15 ans d’expérience terrain.",
    ctaPrimary: "Demander un devis",
    ctaSecondary: "Nos projets",
    trusted: "Qualité fiable, sécurité garantie, sans compromis.",

    nav: {
      services: "Services",
      process: "Processus",
      projects: "Projets",
      about: "À propos",
      contact: "Contact"
    },

    servicesTitle: "Nos services",
    services: [
      {
        title: "Nouvelles installations",
        desc: "Installation complète d’ascenseurs voyageurs et monte‑charges pour le résidentiel et le tertiaire."
      },
      {
        title: "Modernisation",
        desc: "Mise à niveau des armoires, variateurs, portes et cabines pour plus de sécurité et d’efficacité."
      },
      {
        title: "Remplacement",
        desc: "Dépose sécurisée et remplacement clés en main avec arrêt minimal."
      },
      {
        title: "Conformité & tests",
        desc: "Dossiers, contrôles de sécurité et réception selon les normes UE et fabricants."
      }
    ],

    processTitle: "Notre méthode",
    processSteps: [
      { step: "01", title: "Visite du site", desc: "Mesures, gaine, alimentation et logistique." },
      { step: "02", title: "Plan & devis", desc: "Périmètre clair, planning et prix fermes." },
      { step: "03", title: "Installation", desc: "Exécution propre, sûre et ponctuelle." },
      { step: "04", title: "Réception", desc: "Essais, documents, formation et SAV." }
    ],

    projectsTitle: "Projets récents",
    aboutTitle: "À propos d’UpWay",
    aboutText:
      "UpWay est une jeune entreprise polonaise dirigée par un technicien comptant ~15 ans d’expérience pratique en Europe. Travail soigné, communication claire et délais tenus.",

    contactTitle: "Contact",
    contactText: "Envoyez‑nous un message, réponse sous 1 jour ouvré.",
    form: {
      name: "Votre nom",
      email: "Email",
      message: "Message",
      send: "Envoyer"
    },

    footerLeft: "UpWay — Installation d’ascenseurs",
    footerMid: "Basé en Pologne • Actif en Europe",
    footerRight: "© "
  },
  pl: {
    langLabel: "PL",
    heroTitle: "Montaż i modernizacja wind",
    heroSubtitle: "Czysto, precyzyjnie, na czas. UpWay realizuje montaże w standardzie UE z 15‑letnim doświadczeniem.",
    ctaPrimary: "Wyceń projekt",
    ctaSecondary: "Nasze realizacje",
    trusted: "Sprawdzona jakość, bezpieczeństwo, bez kompromisów.",

    nav: {
      services: "Usługi",
      process: "Proces",
      projects: "Realizacje",
      about: "O nas",
      contact: "Kontakt"
    },

    servicesTitle: "Nasze usługi",
    services: [
      {
        title: "Nowe montaże",
        desc: "Kompleksowy montaż wind osobowych i towarowych dla budynków mieszkalnych i komercyjnych."
      },
      {
        title: "Modernizacja",
        desc: "Modernizacja sterowania, napędów, drzwi i kabin — większe bezpieczeństwo i efektywność."
      },
      {
        title: "Demontaż i wymiana",
        desc: "Bezpieczny demontaż starych urządzeń i wymiana pod klucz z minimalnym przestojem."
      },
      {
        title: "Zgodność i testy",
        desc: "Dokumentacja, kontrole bezpieczeństwa i odbiory zgodnie z normami UE i producentów."
      }
    ],

    processTitle: "Jak pracujemy",
    processSteps: [
      { step: "01", title: "Wizja lokalna", desc: "Pomiary, szyb, zasilanie i logistyka." },
      { step: "02", title: "Plan i wycena", desc: "Jasny zakres, harmonogram i stałe ceny." },
      { step: "03", title: "Montaż", desc: "Czysta, bezpieczna, profesjonalna realizacja." },
      { step: "04", title: "Odbiór", desc: "Testy, dokumenty, szkolenie i opieka posprzedażowa." }
    ],

    projectsTitle: "Ostatnie realizacje",
    aboutTitle: "O UpWay",
    aboutText:
      "UpWay to nowa firma z siedzibą w Polsce, prowadzona przez technika z ~15‑letnim doświadczeniem. Stawiamy na jakość wykonania, jasną komunikację i terminowość.",

    contactTitle: "Skontaktuj się z nami",
    contactText: "Napisz krótko — odpowiemy w ciągu 1 dnia roboczego.",
    form: {
      name: "Twoje imię i nazwisko",
      email: "Email",
      message: "Wiadomość",
      send: "Wyślij"
    },

    footerLeft: "UpWay — Montaż wind",
    footerMid: "Siedziba w Polsce • Działamy w całej Europie",
    footerRight: "© "
  }
};

const Section = ({ id, children }) => (
  <section id={id} className="scroll-mt-24 py-16 md:py-24">
    {children}
  </section>
);

const Card = ({ children }) => (
  <div className="rounded-2xl border border-gray-200/60 bg-white/70 backdrop-blur-sm shadow-sm p-6 hover:shadow-md transition">
    {children}
  </div>
);

const projects = [
  {
    title: "Residential 10‑stop passenger lift",
    img: "https://images.unsplash.com/photo-1517502884422-41eaead166d4?q=80&w=1200&auto=format&fit=crop",
  },
  {
    title: "Freight lift replacement in warehouse",
    img: "https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1200&auto=format&fit=crop",
  },
  {
    title: "Modernization of MRL in office block",
    img: "https://images.unsplash.com/photo-1487014679447-9f8336841d58?q=80&w=1200&auto=format&fit=crop",
  },
];

export default function UpWayLanding() {
  const [lang, setLang] = useState("en");

  useEffect(() => {
    const saved = typeof window !== "undefined" && localStorage.getItem("upway-lang");
    if (saved && DICT[saved]) setLang(saved);
  }, []);

  useEffect(() => {
    if (typeof window !== "undefined") localStorage.setItem("upway-lang", lang);
  }, [lang]);

  const t = useMemo(() => DICT[lang], [lang]);

  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-50 to-white text-gray-800">
      {/* Top bar */}
      <header className="sticky top-0 z-50 backdrop-blur bg-white/70 border-b border-gray-200/60">
        <div className="max-w-6xl mx-auto px-4">
          <div className="flex items-center justify-between h-16">
            {/* Logo */}
            <a href="#top" className="flex items-center gap-3">
              <Logo />
              <span className="font-semibold tracking-wide">UpWay</span>
            </a>

            {/* Nav */}
            <nav className="hidden md:flex items-center gap-6 text-sm">
              <a href="#services" className="hover:text-gray-900 text-gray-600">{t.nav.services}</a>
              <a href="#process" className="hover:text-gray-900 text-gray-600">{t.nav.process}</a>
              <a href="#projects" className="hover:text-gray-900 text-gray-600">{t.nav.projects}</a>
              <a href="#about" className="hover:text-gray-900 text-gray-600">{t.nav.about}</a>
              <a href="#contact" className="hover:text-gray-900 text-gray-600">{t.nav.contact}</a>
            </nav>

            {/* Lang switcher */}
            <div className="flex items-center gap-2">
              {(["en", "fr", "pl"]).map((l) => (
                <button
                  key={l}
                  onClick={() => setLang(l)}
                  className={`px-3 py-1.5 rounded-full text-sm border transition ${
                    lang === l ? "bg-gray-900 text-white border-gray-900" : "bg-white text-gray-700 border-gray-300 hover:bg-gray-50"
                  }`}
                >
                  {DICT[l].langLabel}
                </button>
              ))}
            </div>
          </div>
        </div>
      </header>

      {/* Hero */}
      <div id="top" className="relative">
        <div className="absolute inset-0 -z-10">
          <img
            src="https://images.unsplash.com/photo-1459535653751-d571815e906b?q=80&w=1920&auto=format&fit=crop"
            alt="Elevator shaft background"
            className="w-full h-full object-cover opacity-70"
          />
          <div className="absolute inset-0 bg-gradient-to-b from-white/70 via-white/40 to-white" />
        </div>

        <div className="max-w-6xl mx-auto px-4 pt-14 pb-20 md:pb-28">
          <div className="grid md:grid-cols-2 gap-10 items-center">
            <div>
              <h1 className="text-3xl md:text-5xl font-semibold leading-tight">
                {t.heroTitle}
              </h1>
              <p className="mt-4 text-gray-700 md:text-lg">{t.heroSubtitle}</p>
              <p className="mt-3 text-sm text-gray-500">{t.trusted}</p>
              <div className="mt-6 flex gap-3">
                <a href="#contact" className="px-5 py-3 rounded-xl bg-gray-900 text-white text-sm font-medium hover:bg-black transition">{t.ctaPrimary}</a>
                <a href="#projects" className="px-5 py-3 rounded-xl border text-sm font-medium hover:bg-gray-50 transition">{t.ctaSecondary}</a>
              </div>
            </div>
            <div className="relative">
              <div className="aspect-[4/3] rounded-2xl overflow-hidden shadow-lg border border-gray-200">
                <img
                  src="https://images.unsplash.com/photo-1517664511491-4c56f86f7d62?q=80&w=1600&auto=format&fit=crop"
                  alt="UpWay work sample"
                  className="w-full h-full object-cover"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Services */}
      <Section id="services">
        <div className="max-w-6xl mx-auto px-4">
          <h2 className="text-2xl md:text-3xl font-semibold mb-8">{t.servicesTitle}</h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {t.services.map((s, i) => (
              <Card key={i}>
                <div className="text-lg font-medium">{s.title}</div>
                <p className="mt-2 text-sm text-gray-600">{s.desc}</p>
              </Card>
            ))}
          </div>
        </div>
      </Section>

      {/* Process */}
      <Section id="process">
        <div className="max-w-6xl mx-auto px-4">
          <h2 className="text-2xl md:text-3xl font-semibold mb-8">{t.processTitle}</h2>
          <div className="grid md:grid-cols-4 gap-6">
            {t.processSteps.map((p, i) => (
              <Card key={i}>
                <div className="text-xs uppercase tracking-widest text-gray-400">{p.step}</div>
                <div className="mt-1 font-medium">{p.title}</div>
                <p className="mt-2 text-sm text-gray-600">{p.desc}</p>
              </Card>
            ))}
          </div>
        </div>
      </Section>

      {/* Projects */}
      <Section id="projects">
        <div className="max-w-6xl mx-auto px-4">
          <h2 className="text-2xl md:text-3xl font-semibold mb-8">{t.projectsTitle}</h2>
          <div className="grid md:grid-cols-3 gap-6">
            {projects.map((p, i) => (
              <div key={i} className="group rounded-2xl overflow-hidden border border-gray-200 bg-white shadow-sm hover:shadow-md transition">
                <div className="aspect-[4/3] overflow-hidden">
                  <img src={p.img} alt={p.title} className="w-full h-full object-cover group-hover:scale-[1.03] transition" />
                </div>
                <div className="p-4 text-sm font-medium">{p.title}</div>
              </div>
            ))}
          </div>
          <p className="mt-4 text-xs text-gray-500">We’ll replace these with your real project photos.</p>
        </div>
      </Section>

      {/* About */}
      <Section id="about">
        <div className="max-w-6xl mx-auto px-4">
          <div className="grid md:grid-cols-2 gap-8 items-center">
            <div>
              <h2 className="text-2xl md:text-3xl font-semibold mb-4">{t.aboutTitle}</h2>
              <p className="text-gray-700 leading-relaxed">{t.aboutText}</p>
            </div>
            <div className="rounded-2xl border border-gray-200 overflow-hidden shadow-sm">
              <img
                src="https://images.unsplash.com/photo-1539897668345-56e5f1f1b65a?q=80&w=1600&auto=format&fit=crop"
                alt="Team at work"
                className="w-full h-full object-cover"
              />
            </div>
          </div>
        </div>
      </Section>

      {/* Contact */}
      <Section id="contact">
        <div className="max-w-6xl mx-auto px-4">
          <div className="grid md:grid-cols-2 gap-8">
            <div>
              <h2 className="text-2xl md:text-3xl font-semibold mb-2">{t.contactTitle}</h2>
              <p className="text-gray-700">{t.contactText}</p>
              <ul className="mt-6 text-sm text-gray-700 space-y-2">
                <li><strong>Email:</strong> contact@upway‑install.com</li>
                <li><strong>Phone:</strong> +48 000 000 000</li>
                <li><strong>Address:</strong> Poland (EU) — service across Europe</li>
              </ul>
            </div>
            <Card>
              <form className="space-y-3" onSubmit={(e)=>{e.preventDefault(); alert("Thanks! We’ll reply soon.");}}>
                <input className="w-full px-4 py-3 rounded-xl border" placeholder={t.form.name} required />
                <input className="w-full px-4 py-3 rounded-xl border" type="email" placeholder={t.form.email} required />
                <textarea className="w-full px-4 py-3 rounded-xl border min-h-[120px]" placeholder={t.form.message} required />
                <button className="px-5 py-3 rounded-xl bg-gray-900 text-white text-sm font-medium hover:bg-black transition" type="submit">{t.form.send}</button>
              </form>
            </Card>
          </div>
        </div>
      </Section>

      {/* Footer */}
      <footer className="border-t border-gray-200/70 mt-12">
        <div className="max-w-6xl mx-auto px-4 py-10 grid md:grid-cols-3 gap-6 text-sm">
          <div className="font-medium">{t.footerLeft}</div>
          <div className="text-gray-600">{t.footerMid}</div>
          <div className="text-gray-500 md:text-right">
            {t.footerRight}{new Date().getFullYear()} UpWay
          </div>
        </div>
      </footer>
    </div>
  );
}

function Logo() {
  return (
    <div className="w-9 h-9 rounded-2xl bg-gray-900 text-white flex items-center justify-center shadow-sm">
      {/* Minimalist Up arrow */}
      <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 19V6" />
        <path d="M6 12l6-6 6 6" />
      </svg>
    </div>
  );
}
